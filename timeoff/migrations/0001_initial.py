# Generated by Django 5.2.9 on 2026-01-21 18:31

import datetime
import django.contrib.postgres.fields
import django.db.models.deletion
import uuid
from decimal import Decimal
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('employees', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='TimeOffAccrualPlan',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('tenant_id', models.IntegerField(blank=True, db_index=True, null=True)),
                ('employer_id', models.IntegerField(db_index=True)),
                ('name', models.CharField(max_length=255)),
                ('frequency', models.CharField(choices=[('MONTHLY', 'Monthly')], default='MONTHLY', max_length=20)),
                ('amount_minutes', models.IntegerField(default=0, help_text='Minutes accrued per period')),
                ('accrual_gain_time', models.CharField(choices=[('START', 'At period start'), ('END', 'At period end')], default='START', max_length=10)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'db_table': 'timeoff_accrual_plans',
                'ordering': ['name'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffAllocation',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('tenant_id', models.IntegerField(blank=True, db_index=True, help_text='Tenant identifier', null=True)),
                ('employer_id', models.IntegerField(db_index=True, help_text='Employer/tenant identifier')),
                ('name', models.CharField(max_length=255)),
                ('leave_type_code', models.CharField(db_index=True, max_length=50)),
                ('allocation_type', models.CharField(choices=[('REGULAR', 'Regular'), ('ACCRUAL', 'Accrual')], default='REGULAR', max_length=10)),
                ('amount', models.DecimalField(blank=True, decimal_places=2, max_digits=9, null=True)),
                ('unit', models.CharField(blank=True, choices=[('DAYS', 'Days'), ('HOURS', 'Hours')], max_length=10, null=True)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField(blank=True, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('CONFIRMED', 'Confirmed'), ('CANCELLED', 'Cancelled')], db_index=True, default='DRAFT', max_length=15)),
                ('created_by', models.IntegerField(db_index=True, help_text='User ID from main DB')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('accrual_plan', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='allocations', to='timeoff.timeoffaccrualplan')),
                ('employee', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='time_off_allocations', to='employees.employee')),
            ],
            options={
                'db_table': 'timeoff_allocations',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffAccrualSubscription',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('leave_type_code', models.CharField(db_index=True, max_length=50)),
                ('start_date', models.DateField()),
                ('end_date', models.DateField(blank=True, null=True)),
                ('last_accrual_date', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('ACTIVE', 'Active'), ('ENDED', 'Ended'), ('CANCELLED', 'Cancelled')], db_index=True, default='ACTIVE', max_length=10)),
                ('created_by', models.IntegerField(db_index=True, help_text='User ID from main DB')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='time_off_accrual_subscriptions', to='employees.employee')),
                ('plan', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subscriptions', to='timeoff.timeoffaccrualplan')),
                ('allocation', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='accrual_subscriptions', to='timeoff.timeoffallocation')),
            ],
            options={
                'db_table': 'timeoff_accrual_subscriptions',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffAllocationLine',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('CONFIRMED', 'Confirmed'), ('CANCELLED', 'Cancelled')], db_index=True, default='DRAFT', max_length=15)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('allocation', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='lines', to='timeoff.timeoffallocation')),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='time_off_allocation_lines', to='employees.employee')),
            ],
            options={
                'db_table': 'timeoff_allocation_lines',
                'ordering': ['created_at'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffAllocationRequest',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('tenant_id', models.IntegerField(blank=True, db_index=True, null=True)),
                ('employer_id', models.IntegerField(db_index=True)),
                ('leave_type_code', models.CharField(db_index=True, max_length=50)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=9)),
                ('unit', models.CharField(choices=[('DAYS', 'Days'), ('HOURS', 'Hours')], max_length=10)),
                ('reason', models.TextField(blank=True, null=True)),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('CANCELLED', 'Cancelled')], db_index=True, default='PENDING', max_length=10)),
                ('acted_at', models.DateTimeField(blank=True, null=True)),
                ('acted_by', models.IntegerField(blank=True, help_text='Approver user id', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('employee', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='time_off_allocation_requests', to='employees.employee')),
            ],
            options={
                'db_table': 'timeoff_allocation_requests',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffConfiguration',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('employer_id', models.IntegerField(db_index=True, help_text='ID of the employer (from main database)')),
                ('tenant_id', models.IntegerField(blank=True, db_index=True, help_text='Alias for employer_id to support tenant-aware queries', null=True)),
                ('schema_version', models.IntegerField(default=2, help_text='Schema version for normalization')),
                ('default_time_unit', models.CharField(default='DAYS', max_length=10)),
                ('working_hours_per_day', models.IntegerField(default=8)),
                ('minimum_request_unit', models.DecimalField(decimal_places=2, default=Decimal('0.50'), max_digits=5)),
                ('leave_year_type', models.CharField(default='CALENDAR', max_length=10)),
                ('leave_year_start_month', models.IntegerField(default=1)),
                ('holiday_calendar_source', models.CharField(default='DEFAULT', max_length=20)),
                ('time_zone_handling', models.CharField(default='EMPLOYER_LOCAL', max_length=30)),
                ('reservation_policy', models.CharField(default='RESERVE_ON_SUBMIT', max_length=30)),
                ('rounding_unit', models.CharField(default='MINUTES', max_length=20)),
                ('rounding_increment_minutes', models.IntegerField(default=30)),
                ('rounding_method', models.CharField(default='NEAREST', max_length=10)),
                ('weekend_days', models.JSONField(blank=True, default=list, help_text="Weekend names e.g. ['SATURDAY']")),
                ('module_enabled', models.BooleanField(default=True)),
                ('allow_backdated_requests', models.BooleanField(default=True)),
                ('allow_future_dated_requests', models.BooleanField(default=True)),
                ('allow_negative_balance', models.BooleanField(default=False)),
                ('negative_balance_limit', models.IntegerField(default=0)),
                ('allow_overlapping_requests', models.BooleanField(default=False)),
                ('backdated_limit_days', models.IntegerField(default=30)),
                ('future_window_days', models.IntegerField(default=180)),
                ('max_request_length_days', models.IntegerField(blank=True, null=True)),
                ('max_requests_per_month', models.IntegerField(blank=True, null=True)),
                ('auto_reset_date', models.DateField(blank=True, null=True)),
                ('auto_carry_forward_date', models.DateField(blank=True, null=True)),
                ('year_end_auto_reset_enabled', models.BooleanField(default=False)),
                ('year_end_auto_carryover_enabled', models.BooleanField(default=False)),
                ('year_end_process_on_month_day', models.CharField(default='01-01', max_length=5)),
                ('request_history_years', models.IntegerField(default=7)),
                ('ledger_history_years', models.IntegerField(default=7)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Time Off Configuration',
                'verbose_name_plural': 'Time Off Configurations',
                'db_table': 'timeoff_configurations',
                'ordering': ['-created_at'],
                'unique_together': {('employer_id',)},
            },
        ),
        migrations.CreateModel(
            name='TimeOffRequest',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('tenant_id', models.IntegerField(blank=True, db_index=True, help_text='Tenant identifier', null=True)),
                ('employer_id', models.IntegerField(db_index=True, help_text='Employer/tenant identifier (main DB)')),
                ('leave_type_code', models.CharField(db_index=True, max_length=50)),
                ('start_at', models.DateTimeField()),
                ('end_at', models.DateTimeField()),
                ('input_type', models.CharField(choices=[('FULL_DAY', 'Full Day'), ('HALF_DAY', 'Half Day'), ('CUSTOM_HOURS', 'Custom Hours')], default='FULL_DAY', max_length=20)),
                ('half_day_period', models.CharField(blank=True, choices=[('MORNING', 'Morning'), ('AFTERNOON', 'Afternoon')], help_text='Relevant when input_type is HALF_DAY', max_length=20, null=True)),
                ('from_time', models.TimeField(blank=True, help_text='For custom hours start time', null=True)),
                ('to_time', models.TimeField(blank=True, help_text='For custom hours end time', null=True)),
                ('unit', models.CharField(choices=[('DAYS', 'Days'), ('HALF_DAYS', 'Half Days'), ('HOURS', 'Hours')], default='DAYS', max_length=10)),
                ('duration_minutes', models.IntegerField(help_text='Normalized duration in minutes')),
                ('reason', models.TextField(blank=True, null=True)),
                ('description', models.TextField(blank=True, help_text='User-provided description/reason', null=True)),
                ('attachments', models.JSONField(blank=True, default=list, help_text='Attachment metadata (if any)')),
                ('status', models.CharField(choices=[('DRAFT', 'Draft'), ('SUBMITTED', 'Submitted'), ('PENDING', 'Pending Approval'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('CANCELLED', 'Cancelled')], db_index=True, default='DRAFT', max_length=15)),
                ('submitted_at', models.DateTimeField(blank=True, null=True)),
                ('approved_at', models.DateTimeField(blank=True, null=True)),
                ('rejected_at', models.DateTimeField(blank=True, null=True)),
                ('cancelled_at', models.DateTimeField(blank=True, null=True)),
                ('created_by', models.IntegerField(db_index=True, help_text='User ID from main DB')),
                ('updated_by', models.IntegerField(db_index=True, help_text='User ID from main DB')),
                ('metadata', models.JSONField(blank=True, default=dict, help_text='Device/location/additional context')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('employee', models.ForeignKey(help_text='Employee requesting time off', on_delete=django.db.models.deletion.CASCADE, related_name='time_off_requests', to='employees.employee')),
            ],
            options={
                'db_table': 'timeoff_requests',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffLedgerEntry',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('employer_id', models.IntegerField(db_index=True, help_text='Employer/tenant identifier (main DB)')),
                ('tenant_id', models.IntegerField(blank=True, db_index=True, help_text='Alias for employer/tenant identifier to simplify lookups', null=True)),
                ('leave_type_code', models.CharField(db_index=True, max_length=50)),
                ('entry_type', models.CharField(choices=[('ACCRUAL', 'Accrual'), ('ALLOCATION', 'Allocation'), ('ADJUSTMENT', 'Adjustment'), ('RESERVATION', 'Reservation'), ('DEBIT', 'Debit'), ('REVERSAL', 'Reversal'), ('CARRYOVER', 'Carryover'), ('EXPIRY', 'Expiry'), ('ENCASHMENT', 'Encashment')], db_index=True, max_length=15)),
                ('amount_minutes', models.IntegerField(help_text='Positive/negative minutes; immutable once saved')),
                ('effective_date', models.DateField(default=datetime.date.today, help_text='Date the entry applies to')),
                ('source_reference', models.CharField(blank=True, help_text='Human-readable source reference (e.g., request/plan/run identifier).', max_length=100, null=True)),
                ('notes', models.TextField(blank=True, null=True)),
                ('created_by', models.IntegerField(db_index=True, help_text='User ID from main DB')),
                ('metadata', models.JSONField(blank=True, default=dict)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('allocation', models.ForeignKey(blank=True, help_text='Linked allocation (if any)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ledger_entries', to='timeoff.timeoffallocation')),
                ('allocation_request', models.ForeignKey(blank=True, help_text='Linked allocation request (if any)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ledger_entries', to='timeoff.timeoffallocationrequest')),
                ('employee', models.ForeignKey(help_text='Employee affected by this entry', on_delete=django.db.models.deletion.CASCADE, related_name='time_off_ledger_entries', to='employees.employee')),
                ('request', models.ForeignKey(blank=True, help_text='Linked request (if any)', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='ledger_entries', to='timeoff.timeoffrequest')),
            ],
            options={
                'db_table': 'timeoff_ledger_entries',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffApproval',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('step_index', models.IntegerField(help_text='Zero-based index of the step')),
                ('approver_user_id', models.IntegerField(db_index=True, help_text='User ID in main DB')),
                ('status', models.CharField(choices=[('PENDING', 'Pending'), ('APPROVED', 'Approved'), ('REJECTED', 'Rejected'), ('SKIPPED', 'Skipped')], db_index=True, default='PENDING', max_length=10)),
                ('comment', models.TextField(blank=True, null=True)),
                ('acted_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('request', models.ForeignKey(help_text='Request this approval belongs to', on_delete=django.db.models.deletion.CASCADE, related_name='approvals', to='timeoff.timeoffrequest')),
            ],
            options={
                'db_table': 'timeoff_approvals',
                'ordering': ['request_id', 'step_index'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffType',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('employer_id', models.IntegerField(db_index=True)),
                ('tenant_id', models.IntegerField(blank=True, db_index=True, null=True)),
                ('code', models.CharField(db_index=True, max_length=50)),
                ('name', models.CharField(max_length=255)),
                ('paid', models.BooleanField(default=True)),
                ('color', models.CharField(blank=True, max_length=7, null=True)),
                ('description', models.TextField(blank=True, null=True)),
                ('mobile_enabled', models.BooleanField(default=True)),
                ('balance_visible_to_employee', models.BooleanField(default=True)),
                ('allow_encashment', models.BooleanField(default=False)),
                ('encashment_max_days', models.DecimalField(blank=True, decimal_places=2, max_digits=7, null=True)),
                ('encashment_conversion_rate', models.DecimalField(decimal_places=2, default=Decimal('1.00'), max_digits=7)),
                ('allow_comp_off_generation', models.BooleanField(default=False)),
                ('comp_off_expiry_days', models.IntegerField(blank=True, null=True)),
                ('sandwich_rule_enabled', models.BooleanField(default=False)),
                ('eligibility_gender', models.CharField(default='ALL', max_length=10)),
                ('eligibility_allowed_in_probation', models.BooleanField(default=True)),
                ('eligibility_minimum_tenure_months', models.IntegerField(default=0)),
                ('eligibility_employment_types', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=30), blank=True, default=list, size=None)),
                ('eligibility_locations', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=50), blank=True, default=list, size=None)),
                ('eligibility_departments', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=50), blank=True, default=list, size=None)),
                ('eligibility_job_levels', django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=50), blank=True, default=list, size=None)),
                ('request_allow_half_day', models.BooleanField(default=True)),
                ('request_allow_hourly', models.BooleanField(default=False)),
                ('request_minimum_duration', models.DecimalField(blank=True, decimal_places=2, max_digits=7, null=True)),
                ('request_maximum_duration', models.DecimalField(blank=True, decimal_places=2, max_digits=7, null=True)),
                ('request_consecutive_days_limit', models.DecimalField(blank=True, decimal_places=2, max_digits=7, null=True)),
                ('request_allow_prefix_suffix_holidays', models.BooleanField(default=True)),
                ('request_count_weekends_as_leave', models.BooleanField(default=False)),
                ('request_count_holidays_as_leave', models.BooleanField(default=False)),
                ('request_blackout_dates', django.contrib.postgres.fields.ArrayField(base_field=models.DateField(), blank=True, default=list, size=None)),
                ('request_requires_reason', models.BooleanField(default=True)),
                ('request_requires_document', models.BooleanField(default=False)),
                ('request_document_mandatory_after_days', models.DecimalField(blank=True, decimal_places=2, max_digits=7, null=True)),
                ('reservation_policy', models.CharField(default='RESERVE_ON_SUBMIT', max_length=30)),
                ('allow_negative_balance', models.BooleanField(default=False)),
                ('negative_balance_limit', models.IntegerField(default=0)),
                ('approval_auto_approve', models.BooleanField(default=False)),
                ('approval_workflow_code', models.CharField(default='DEFAULT', max_length=100)),
                ('approval_fallback_approver', models.CharField(default='HR', max_length=20)),
                ('approval_reminders_enabled', models.BooleanField(default=True)),
                ('approval_reminder_after_hours', models.IntegerField(default=48)),
                ('accrual_enabled', models.BooleanField(default=False)),
                ('accrual_method', models.CharField(default='MONTHLY', max_length=30)),
                ('accrual_rate_per_period', models.DecimalField(decimal_places=2, default=Decimal('0.00'), max_digits=9)),
                ('accrual_start_trigger', models.CharField(default='DATE_OF_JOINING', max_length=30)),
                ('accrual_start_offset_days', models.IntegerField(default=0)),
                ('accrual_waiting_period_days', models.IntegerField(default=0)),
                ('accrual_proration_method', models.CharField(blank=True, max_length=20, null=True)),
                ('accrual_proration_on_join', models.BooleanField(default=True)),
                ('accrual_proration_on_termination', models.BooleanField(default=True)),
                ('accrual_cap_enabled', models.BooleanField(default=False)),
                ('accrual_cap_max_balance', models.DecimalField(blank=True, decimal_places=2, max_digits=9, null=True)),
                ('carryover_enabled', models.BooleanField(default=False)),
                ('carryover_max_carryover', models.DecimalField(blank=True, decimal_places=2, max_digits=9, null=True)),
                ('carryover_expires_after_days', models.IntegerField(blank=True, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('configuration', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='leave_types', to='timeoff.timeoffconfiguration')),
            ],
            options={
                'db_table': 'timeoff_types',
                'ordering': ['code'],
            },
        ),
        migrations.CreateModel(
            name='TimeOffApprovalStep',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('step_index', models.IntegerField(help_text='Zero-based index of the step')),
                ('step_type', models.CharField(help_text='MANAGER | HR | ROLE', max_length=30)),
                ('required', models.BooleanField(default=True)),
                ('leave_type', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='approval_steps', to='timeoff.timeofftype')),
            ],
            options={
                'db_table': 'timeoff_type_approval_steps',
                'ordering': ['step_index'],
            },
        ),
        migrations.AddIndex(
            model_name='timeoffallocation',
            index=models.Index(fields=['employer_id', 'leave_type_code'], name='timeoff_alloc_emp_lt_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffallocation',
            index=models.Index(fields=['status'], name='timeoff_alloc_status_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffaccrualsubscription',
            index=models.Index(fields=['leave_type_code'], name='timeoff_accrual_lt_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffaccrualsubscription',
            index=models.Index(fields=['status'], name='timeoff_accrual_status_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='timeoffallocationline',
            unique_together={('allocation', 'employee')},
        ),
        migrations.AddIndex(
            model_name='timeoffallocationrequest',
            index=models.Index(fields=['employer_id', 'leave_type_code'], name='timeoff_allocreq_emp_lt_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffallocationrequest',
            index=models.Index(fields=['status'], name='timeoff_allocreq_status_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffrequest',
            index=models.Index(fields=['tenant_id'], name='timeoff_req_tenant__0cc38c_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffrequest',
            index=models.Index(fields=['employer_id', 'employee'], name='timeoff_req_employe_236620_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffrequest',
            index=models.Index(fields=['employer_id', 'leave_type_code'], name='timeoff_req_employe_fe1323_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffrequest',
            index=models.Index(fields=['employer_id', 'status'], name='timeoff_req_employe_fbf5a9_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffrequest',
            index=models.Index(fields=['start_at', 'end_at'], name='timeoff_req_start_a_d3d835_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffledgerentry',
            index=models.Index(fields=['employer_id', 'employee'], name='timeoff_led_employe_6fc9bd_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffledgerentry',
            index=models.Index(fields=['employer_id', 'leave_type_code'], name='timeoff_led_employe_5f8dbe_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffledgerentry',
            index=models.Index(fields=['entry_type'], name='timeoff_led_entry_t_70aa5a_idx'),
        ),
        migrations.AddIndex(
            model_name='timeoffledgerentry',
            index=models.Index(fields=['effective_date'], name='timeoff_led_effecti_7f539e_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='timeoffapproval',
            unique_together={('request', 'step_index', 'approver_user_id')},
        ),
        migrations.AddIndex(
            model_name='timeofftype',
            index=models.Index(fields=['tenant_id'], name='timeoff_typ_tenant__b01a7f_idx'),
        ),
        migrations.AddIndex(
            model_name='timeofftype',
            index=models.Index(fields=['employer_id', 'code'], name='timeoff_typ_employe_245906_idx'),
        ),
        migrations.AlterUniqueTogether(
            name='timeofftype',
            unique_together={('employer_id', 'code')},
        ),
        migrations.AlterUniqueTogether(
            name='timeoffapprovalstep',
            unique_together={('leave_type', 'step_index')},
        ),
    ]
